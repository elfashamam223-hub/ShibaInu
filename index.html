<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shiba Inu Rewards</title>
<style>
/* Styles tetap sama seperti sebelumnya */
</style>
</head>
<body>
<div id="loginPage">
    <h1>Login</h1>
    <input type="text" id="loginName" placeholder="Your Name">
    <input type="email" id="loginEmail" placeholder="Binance/FaucetPay Email">
    <button onclick="loginUser()">Start</button>
</div>
<div id="dashboard" style="display:none;">
    <!-- Dashboard content tetap sama seperti sebelumnya -->
</div>
<script>
const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwGL-Nlpcre-YaSM1XlkelI7Z7QAUBiqLrVkUBfFVAYrJPn6zopiz4XomDCmlhmytzE/exec";
const SECRET_KEY = "Elfaidasany3";

async function loginUser() {
    const name = document.getElementById("loginName").value.trim();
    const email = document.getElementById("loginEmail").value.trim();

    if (!name || !email) {
        alert("Please enter your name and Binance/FaucetPay email.");
        return;
    }

    localStorage.setItem("userName", name);
    localStorage.setItem("userEmail", email);

    // Langsung tampilkan dashboard meskipun fetch gagal
    showDashboard();

    try {
        const res = await fetch(APPS_SCRIPT_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                secret: SECRET_KEY,
                action: "register",
                name: name,
                email: email
            })
        });

        if (!res.ok) throw new Error("API Error");
    } catch (err) {
        console.error("Login error:", err);
        alert("âš  Failed to save data online, but you can continue.");
    }
}

function showDashboard() {
    document.getElementById("loginPage").style.display = "none";
    document.getElementById("dashboard").style.display = "block";
}
</script>
</body>
</html>
