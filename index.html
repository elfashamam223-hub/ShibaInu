<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shiba Inu Airdrop Rewards</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Monetag Ad SDK -->
<script src='//libtl.com/sdk.js' data-zone='9682710' data-sdk='show_9682710'></script>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ffcc70, #ff9966);
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 0;
  }

  header {
    padding: 20px;
  }

  header img {
    width: 100px;
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  h1 {
    font-size: 26px;
    margin-bottom: 5px;
  }

  .balance {
    font-size: 18px;
    margin-bottom: 20px;
  }

  button {
    background: #ff4d4d;
    border: none;
    padding: 12px 25px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 30px;
    color: #fff;
    cursor: pointer;
    transition: transform 0.2s, background 0.3s;
  }

  button:hover {
    background: #ff3333;
    transform: scale(1.05);
  }

  .section {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 15px;
    padding: 15px;
    margin: 15px;
  }

  input {
    padding: 10px;
    width: 90%;
    border-radius: 10px;
    border: none;
    margin: 8px 0;
    font-size: 14px;
  }

  .footer {
    font-size: 12px;
    padding: 10px;
    opacity: 0.8;
  }
</style>
</head>
<body>

<header>
  <img src="https://i.pinimg.com/736x/2b/67/3a/2b673ae57cd8d2c4344945ea6c36bd17.jpg" alt="Shiba Logo">
  <h1>Shiba Inu Rewards</h1>
  <div class="balance">Balance: <span id="balance">0</span> SHIB</div>
</header>

<div class="section">
  <button id="watchAdBtn">ðŸŽ¥ Watch Ad (+8 SHIB)</button>
</div>

<div class="section">
  <h2>Withdraw</h2>
  <input type="text" id="username" placeholder="Telegram Username">
  <input type="email" id="email" placeholder="Binance Email">
  <input type="number" id="amount" placeholder="Amount (min 120 SHIB)">
  <button onclick="withdraw()">ðŸ’¸ Withdraw</button>
</div>

<div class="section">
  <h2>Top Earners</h2>
  <ul id="topEarners">
    <li>Loading...</li>
  </ul>
</div>

<div class="footer">
  "One day, SHIB will reach $1â€¦ Keep mining, your future self will thank you!" ðŸš€ | Join our <a href="#" style="color: yellow;">https://t.me/+9r5guBuaVpQwMjU1</a>
</div>

<script>
  let balance = 0;

  // Load balance from localStorage on page load
  window.onload = function() {
    const savedBalance = localStorage.getItem('shib_balance');
    if(savedBalance) {
      balance = parseInt(savedBalance);
      document.getElementById('balance').innerText = balance;
    }
  };

  // Update balance on screen and save to localStorage
  function updateBalance(amount) {
    balance += amount;
    document.getElementById('balance').innerText = balance;
    localStorage.setItem('shib_balance', balance);
  }

  // Watch Ad button event
  document.getElementById('watchAdBtn').addEventListener('click', () => {
    show_9682710().then(() => {
      updateBalance(8);
      alert('You have earned 8 SHIB from the ad!');
    }).catch(() => {
      alert('Ad failed to load or was skipped. No reward given.');
    });
  });

  // Withdraw function with validation
  function withdraw() {
    const user = document.getElementById('username').value.trim();
    const email = document.getElementById('email').value.trim();
    const amount = parseInt(document.getElementById('amount').value);

    if (!user || !email) {
      alert("Please fill in your Telegram username and Binance email before withdrawing.");
      return;
    }

    if (isNaN(amount) || amount < 120) {
      alert("Minimum withdraw is 120 SHIB");
      return;
    }

    if (amount > balance) {
      alert("Insufficient balance");
      return;
    }

    alert(`Withdraw request sent:\n${user} | ${email} | ${amount} SHIB`);

    // TODO: Add fetch POST to Google Apps Script to submit withdraw here

    balance -= amount;
    document.getElementById('balance').innerText = balance;
    localStorage.setItem('shib_balance', balance);
  }
</script>

</body>
</html>
